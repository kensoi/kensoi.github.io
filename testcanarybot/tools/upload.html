
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Kensoi Doc </title>
    <link rel="stylesheet" href='../../css/code-wrapped.css'>
    <link rel="stylesheet" href='../../css/style-layout.css'>
    <link rel="stylesheet" href='../../css/style-footer.css'>
    <link rel="shortcut icon" href="../../img/favicon.ico" type="image/svg+xml">

    <script type="text/javascript" src="../../js/redirection.js"></script>
    <script type="text/javascript" src="../../js/redirection_cb.js"></script>
</head>
<body>
    <div class="block">
        <div onclick="redirect(0)">
            kensoi/testcanarybot/tools/upload
        </div>
    </div>
    <div class="block layout">
        <div class = "code-block">
            <h2>
                <span class = "code keyword"> await </span>
                <span class = "code"> tools.upload.photo_messages(<span class = "code kwargs">photos</span>)
                </span>
            </h2>
        </div>
        <div class = "code-block">
            <h2>
                <span class = "code keyword"> await </span>
                <span class = "code"> tools.upload.photo_group_widget(<span class = "code kwargs">photo, image_type</span>)
                </span>
            </h2>
        </div>
        <div class = "code-block">
            <h2>
                <span class = "code keyword"> await </span>
                <span class = "code"> tools.upload.photo_chat(<span class = "code kwargs">photo, peer_id</span>)
                </span>
            </h2>
        </div>
        <div class = "code-block">
            <h2>
                <span class = "code keyword"> await </span>
                <span class = "code"> tools.upload.document(<span class = "code kwargs">document, title*, tags*, peer_id*, doc_type*</span>)
                </span>
            </h2>
        </div>
        <div class = "code-block">
            <h2>
                <span class = "code keyword"> await </span>
                <span class = "code"> tools.upload.audio_message(<span class = "code kwargs">audio, peer_id</span>)
                </span>
            </h2>
        </div>
        <div class = "code-block">
            <h2>
                <span class = "code keyword"> await </span>
                <span class = "code"> tools.upload.story(<span class = "code kwargs">file, file_type, reply_to_story*, link_text*, link_url*</span>)
                </span>
            </h2>
            <p>С помощью данной функции можно загрузить публичную историю (приватные аналоги не поддерживаются ключом доступа). После успешного выполнения возвращает объект, содержащий число историй в поле count и массив историй в поле items.</p>
            <h3>Обязательные аргументы</h3>
            <p>
                &nbsp;&nbsp;&nbsp;&nbsp;<b> file </b> - файл (str/файл)<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<b> file_type </b> - тип файла (для фотографии "photo", для видео "video")<br>
            </p>
            <h3>Дополнительные аргументы</h3>
            <p>
                &nbsp;&nbsp;&nbsp;&nbsp;<b> reply_to_story </b> - идентификатор истории, на которую ответом отправляется текущая история (int)<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<b> link_text </b> - текст на кнопке <br>
                &nbsp;&nbsp;&nbsp;&nbsp;<b> link_url </b> - ссылка на кнопке <br>
            </p>
        </div>
        <div class = "code-block">
            <h2>
                <span class = "code"> tools.upload.convertAsset(<span class = "code kwargs">files, sign*</span>)
                </span>
            </h2>
            <p> Описание: служебная функция для обработки files в словарь, используется практически во всех методах tools.upload. Для загрузки нескольких файлов (str/файл) передайте список в аргумент files</p>
            <div class= "code-wrapper">
                <span class = "code"> 
                    <code>
                        >>> files = 'test.png' <br>
                        >>> result = tools.upload.convertAsset(files, "file") <br>
                        >>> print(result) <br>
                        { <br>
                        &nbsp;&nbsp;&nbsp;&nbsp;'file': < _io.TextIOWrapper name='assets/test.png' mode='r' encoding='cp1252' > <br>
                        } <br>
                    </code>
                </span>
            </div>
            <div class= "code-wrapper">
                <span class = "code"> 
                    <code>
                        >>> files = ['test.png', open('apples.jpg', 'r')] <br>
                        >>> result = tools.upload.convertAsset(files, "file") <br>
                        >>> print(result) <br>
                        { <br>
                        &nbsp;&nbsp;&nbsp;&nbsp;'file1': < _io.TextIOWrapper name='assets/test.png' mode='r' encoding='cp1252' > <br>
                        &nbsp;&nbsp;&nbsp;&nbsp;'file2': < _io.TextIOWrapper name='apples.jpg' mode='r' encoding='cp1252' > <br>
                        } <br>
                    </code>
                </span>
            </div>
        </div>
    </div>

    <div class="block select_none">
        <div class="footer-table">
            <div class="footer-cell-main">
                <img src="../../img/logos/kensoi-title.svg" class="footer-cell-logo" onclick="redirect(0)">
            </div>  
    
            <div class="footer-cell">
                <div class="footer-cell-headline" onclick="redirect(4)">Projects</div>
                <div class="footer-cell-link" onclick="redirect(11)">@canarybot</div>
                <div class="footer-cell-link" onclick="redirect(12)">@testcanarybot</div>
            </div>

            <div class="footer-cell">
                <div class="footer-cell-headline" onclick="redirect(5)">Sources</div>
                <div class="footer-cell-link" onclick="redirect(6)">Kensoi Doc Design</div>
                <div class="footer-cell-link" onclick="redirect(7)">Kensoi Open Cloud</div>
                <div class="footer-cell-link" onclick="redirect(8)">testcanarybot</div>
                <div class="footer-cell-link" onclick="redirect(9)">Telegram API wrapper</div>
                <div class="footer-cell-link" onclick="redirect(10)">Complex Angle</div>
            </div>

            <div class="footer-cell-channels">
                <img src="../../img/logos/github.svg" class="footer-cell-svg" onclick="redirect(1)">
                <img src="../../img/logos/telegram.svg" class="footer-cell-svg" onclick="redirect(1)">
                <img src="../../img/logos/vkontakte.svg" class="footer-cell-svg" onclick="redirect(3)">
            </div>
        </div>
    </div>
</body>
</html>